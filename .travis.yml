# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: x+2Fklz0ArdJm8dir32eQ5f/Svzo5a6m5sBJ9GqQD/tZIxHRrZR6HA8o+zY5Cn6/D+GmPB0UVKo5F6azHWfufxFdG6O1b7K3eTCFteVBKkZutQiDvx0r78+Yz73LDceQXnhOGXwT+yJKPDH5/2qOj4WBkTuMJ/Jx6hGTvizDKq1pSd1y2nhpMWfSfWC4v7z/vitis+OpdCXi0GSHrmsK9ULDNv5I3EmVYx/Kv5E7UnWuLF81/2lbHH5Eiewah2n7Z3AlOcfSDxhdEqKr6bxpdkmJPiIOPReN5hE0FwGX3Hb4yOwOg0li20tgJNB/mwTR0CFCtGl1BdNbQWivYkIC45xG5LC2t5t9Hp5vbYmyoke7EQ1yTRc1JmnUirXSylJiE64V78MQL0kxQQqRKk8TYGQNvf/w+1M5pBmcZK4EdC+GB054ECRT8k/kKBI6OUHdC5JoPwZQeQBAXcgKAuMDuEdIunlD+/rf19aMQ36XT7sG+Dla0KkUb0R78eWELqr0QptKfP8nsai/lMLr01cJC74uQg15FldSKpM8HnUxeCnaDiLamdZoVh9OBI6zpXE9WRxvnreVlW1P7B217ZqZpzoFHIvUCEPeU65ihl5PruK9EbFpjbh+2cKidw8j1f4mbe4rxbjA7r6LbKxw22BQOAcxQBm8th9KuOU9wsTKH0g=
  - secure: JM/TuQeIN6TuRetUag3sw2CmJdTB938R9p9tHP68siFcS6FDYv1U3Jcur0CB1vIcGQ+A1Zwz/BKk+MwOT/mVYU5eZgYCfowKnCDBLFsqIJiQbPz68maZsNhmwu2en95/QL5l3x/B3i5BJIzICNblkSWieazLJEAjffJoSt7/WEAP4ucxM59vXjaWt/lvdx3UNCMV7a9MArSC5UOIXJvTAD3nbdKOU/xh3F82VMiMiLUCf6IHTdtzxGtg/0DXDYrfJQszdUeR3XNxf8u8V+rLcWCpzDdQyTDkU6Z0M6D61ERUek/c12NY/cApJdgior0HYVPVtRNbTEY2y01xOqG5AeH6HJDTrQH14S5vRPgzzhLbSTO5r5hLEnClsG6twK0Z3/XOs56WSnu457TlkiW6pp1CRyYCRSpuE1KSS+A7PGs4RJ8EqwV0giAV8kS/Ger4ozurZ1AMtQR4w/ozCX2xiLUy7Ufx8t0JC+1+BGBqaDYnttSR0noYtOe8nsNNUMESchRK3EYvcSCg3nudw1K1dYYmB3ZowDzIHmJggz176x28sv+H1rqh9KSv5li92oGN31yMjCv36OXgmFF2OwYWWRCYHd7DeClKJAXxWNif/xEWb3NHfYhs7GeDDtWBLNKEgBTy8kQ80TpM7/y5MZLqKxPaAltY4CUb/97SzdU43zg=
  - secure: y7fokQDUE3YhVyQRVchchsbI7+N9BJMze/5KvxVwxKH3jXDMzJCPqb4I2HivDjxXmD7N41Z2+HMG+o5rN2OPwmarRV1YKwkL6WrmMIXYfxQNdinkCBVFAldvj2+OCD4z0YZkmUSFco0aRhx8euWoSRwsynu/ufs8RqhNyG+RZPdfflYnoHbyUxe2MBuyMK75R3j977uWqgEOHEwmqGxJDjMbzN7Pcy4rZ6M+sVwFIlwkxTL2ICuDNQFVfLfip+aahcG+4PgeAFTLLGv3qTJhqH2EcQBMRNG0JiIbqbSKhn6Xjreujr/lQnDk0Ts5Z3/+QakuMlEJEwPyhq3PhQ16a3m6sYDn52YGegm85SQsqrIQgI9L99ItD+QFnDcXe5Rk9/eocsTc4/Korrrcp8XTFZs2o/SgsK1sXMuAA1ts0nsbg6gxHFhGxZ1t6GAR9D/Kir2zBpOHKNRMj0NN75xqp0ETQSq2OuI7k0/i5m1JkD2SxxOTxlOoIuHNFjNetEvagjZI2rFUAB3ssGP07E9IjKQSeGjNF4X1GH/BODhNGbLPjmR4uqMr3ZViIYTSrXLpAEXX+gBbU0TeOu1JDmv0+uZlZNsu3CC+NpHIokyHn+vznVIienSNs51ZL91LGdYiVgFujVYpZpyPj6Tf6BAQAj98nS0F4FgqjxhyALCJo5U=
  - secure: PNqWzrV9v38a0aiY6OESzGyze38353kDF/uaNcS8tbhK2yAWLChNf73hi+bx6RZG/oTh4BoUTcvegHLrLVDqs5RIeVFKR6WCApYmmMA8hy76p9dccCEAX43H2ZyHzRwhznLNTEpZreQxiy08bFJ9QppU87OR3tofo3YYli+3Qy/Vq0NwKnm98rSUGi13vFjBkZ+EqcvDCO4DLw5GnbyfKSzUtljYU9U0+pAQAd8IsUEFM/oH0BQp7rynAiYx2irxclDVKfdwJtI70IlgS6T+AFY31PDRwbqEHj06QMW1LNk8bBSv4om3/RBirys7jcudnglzJB0qmWCY31sbTRfjw1ExUP1aP49PMPMMSVWOT0JeXCnxJRMz0vb2KEMgONriy/M08Oua8ohXOWXs1jHgpIKqBFJlSltvIoez91jakrPBbWOcMVxIVbUsRZEWmsCFuIKnb2Ta+UsYelbPSsDPaedDjBca4zl0xm3Ho0jjgdaebFBW/5LXVV0/acF5y6Tf7DnwQ+CW/ngPP/njKgznmgroTVqFDq2PvvhJ5ZFVdqkHkHhH57GnwevQa8vXt7M+bncUgC1cTJsxRzQrQfG66X2LoydJSHjOPbGKs4Waa8m8DQjT4xm6CWYcMLGiI4x1CLMdsqJXdtDEkiLFs36Wh+w9rjbz+gP2QI/BMFDwrSI=
  - secure: fb8PFfrdKCg5qeuKKPPWCo7YD9kvPdTgysMFImgh+UDkZlVlNWfbmUqpHNJS8NLmlKeNaG3YUARU4GsqVQGWmwoMWVsKhv93fQ4zUde83STHlm/s4Onccljj7pD74+6Fgu2Kdn7lH2P0+nlhDyTztFHQF8jBA5M0uJcXjSDDZLUPV5S8OCXwIUWEeqVs3TryGO6jz1dZEAh7f/BSIL96SFL3r14N6Jo5nlDRejUic5mf3pT3xa2IfeKEBwpCYwVscGJ2wra1My2R2ZqzEsWbTaFYhA6STTt6enSLAYhIpfXIx55IcRGoJXDV465PXPjf8mqQ3onO+ldYYXEHy19dTgkSJBjn0zSy4KqVU1yKxd+KWo5yWfdyKDPvl5SmtMk1SitrmrNuf9eialg0SmHcYKVlCr/Xl+X5IHuVoUWnHD2rcCXE/pyfZCTj3oHfW9/UI51vHEOHJQ4dz/5RhgaRsqClpg1CunY2V2a7cLkbFTtZSsGx95HYUB4OblPCbgOt5J18SKGKl28sPTgV0HDC/Rk9+a2dMY5jqKQIwbMk0sg2mNyQtxkMnLfdb5axswI7bvCQrAI7BGBFtuwZFyP1Gln1kpxwR7Ux719L9zFBlVPJ8RTWO9yGMSpV/g6j5MSmCSN7951SVf9KRUwG2ZfV2Bw5Eq1ecBV8/E4LtGBYeqc=
  - secure: aP8n7LNSqMfP8TI3tPSnqnIUAegLUXuL6mVfbLauGPyu1S4rjR3r3nJZyJOI64f6C4aMAlPb6dgTRoRn0UyHPUx0BGHX/zGpycX+Vd5PRSBNRGxzeOXCAtOi4KfxYxcHYdRRIZkUv5I2KJELh6m3cgCSZnftIsc5AjrgWsQDovPoQIl63X7xVmFvc6HL+19Wbd2vWN181hq2PAUJsxPXNlFeuzDCmfFAzGC5IAQcWFSoLvpy2JD07duRBrzYm2cuGLOb0a2CG7G6UirZOfNjP+XvWTY2k0cNwrcR7qwW79+h+03JTB4THtsxX/qbznTAEqX2/fIyp02lt3T7pmtzeqfvvsBET1xguSb/EHRuC2jFLM1+nxY2TjRN720J8m/O3ZLJp4jGyr3oWuRvsgByo/nYBcCD7RWuIdIEvrlLmulia0NvmW83cmOxtrqwizmYHw8lklJhW7P8FxvFzyin9ppzm7QlX9lEaslWqv0YSf6P8HER/S2KhzEwa242AyCM3jctZPeNyVi9phwvym0eKt1pZ7QsEkf0uU1CmPtGs+QOtWkuQG31mOJ1LzRU8EmzQgG20pA1MCrUPk61jDtAmWPb7Bba/csMZO2F/mKWk/Llr5DlybwTQEKqItnHx9ZWyQGL5qoAN0P8KmTF7LQ/IN6eLmigfck9wwXh4EVKwYA=
