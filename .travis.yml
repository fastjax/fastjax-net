# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: kAUgI1g5OaDcDhCx64unVpiJnwv70dhArTm7mFxVerTA/DIi+FwDBvVR9kq/eN1ep0qsCi1X7ino0mW69qWzAmOZfh4ULKYvJe9QPhO/n8v+QIjqfEHezUP8GeNM1/+tDys2DmQjMsAEQwYGw/ky+g79fkqpYMxfFTDHFsuc2UrVvldtmTKvOTmQNqlBYNk++vSNM8zSmpop3eRjrHOiiAFF2vYqAdD1Fh+/yfG2a7u5gJKS82sPfPS+o1cX0LGQuuIcDVRss2jTwUesLHpNwl0GvFKtswO+jBhB+6kG70PtG09Wf9IfqvRonOCz9b7qlSZNWKGYNfLWDFRYErYxLzmGIvDjwZKLIGC7damH55UTsgr5xFeP2rO7IAk3twVF/TJP7Rz9zzpBLA+aq98frfbtZm7UggO4/t+6egqnVre54uYlubWKl0YRtYzDF+OrmlXo5yNIUuzHO/5MAcwmjqRXAlcpQ8PYXct5QFxSuCd6WDkIaACBbzDRy3KScYYmN5YmtEzmAQwX24Z0OmXMfo5yDUZ9OX+pGnYGKAJ0LdlflykIszet3e+EmrdnvEM1PiLYKcxumCtK5g5SbLy9cMVLX69EG2sb/F6UKJoL0LT3SrJssXWWpjxLPqFwTsO6wkKNzMBcdWEUsfVlyWFvhHZz5AoSLTWDmwZuz7WaVNM=
  - secure: ULuG16T9W6auAnnB4DP6HWlGfzgInBx2g6+CvZsDS0pJZDqRMog9bBg6YlbrVSQH4nPO4zVWDgwBFAJ9NbfeVCuFHeuaZmwUV9748QmAPLNbGBjCyJCuw563R7tfY1bDrfgmMUjgnEEchyI+u6jcv2eJ3lm1Mz4q9eOwBri360uOb4vGNUBtKpvMQhXo7V6b/TMITnCjtn3405PUbs5HBeTgJFHJp0oDyYobi2xZH09lVYipZXPW97XlpoQRPhnCdUc8PRzPVVXCMkBhbIvQPXy44GdJSvFZPr2Z35uTZgNQmIkyfr54SgMnpZx7lSbBv+ZjBzmRFoBpVrW8D2iHbHRqKnZ+T9NUWDjpo3h9GnUfGICJuJz3WaKxMcOi+u1bwtq/zT6DSPq8UQY2TuZC3eU4wXqJQqc8oFWoqsjkVUv7/e5idHbkdW+U8M7+B8E6D9IGe805lNkVIq7L3o/eYiwKDGnwf113PUW8trLGknujApnofkhsBXsYdtBxSofd8h7SiD3QetSB0LmaIMJt1poXrr4HVoyHwhxjYpcg1OojA/VH2snjEsHzYYJDkuryMYsiIluZGLjO326/ltbsnkIMjkQSo5r9uAd2gCmvJ7g+xUgbLZ7GMzLvawm3r0oD0beBAPPo24DNVhGGNOwqjJjafPhim/rWLaWZQ3lrFrQ=
  - secure: t18Nrw3vQ0kE35rjfPTkPz/g0VRsrIoP/cMARZaZNIhHZW7/8nouZjax/yb0e/vDXs4egemvXlTOGWnVq09NL6FubeTkatXrBEb+4ORPeGFRCGyIEbq4z3CWurF3vyrS2UPgPwnzxkDSEHpRsFqibZYTN/nZ5wSXpoqBGgi3bS2vuDLdSpOSsPUX0BcFWaWPzOzc0JVkMerUu3/TiAJQ7fM3LiLXKM7CWOW3K8q5+orZ9mKpklEr3DvKG+XCHyLcfvUnxQDXAqZ1+5e+C1re3BkWBaGxyG+8Ck2XAb/geIS7degEEuoH6zV5Rf3smvPtIagXhhh6HhlkKgMFbM0MUwHWXhcisxHXUWIu3ICkTNl1N8YgF4OZgKJoO2Z1/SqmQi82W2Njcx9DsiPYttdKdBEyULw8f3TI/bL7T447wPRpP/frU004c6Jd79Yx8rZfgZLroVgn+/I5ne4AzIpW6yFaaWZrfYg+SSU9fLkhtHiNqwiJC95yZnNteGaRRUmm1nLvDpBbWD7/3wWrcX+mAnWeR+4NCTLD8E7cdn+LpLEyt2BoIqQ9zRJ4DXgEnHUSFdFuBAjC/XweUmniiEQufVc8SxJ670H0WRr41JJtzD77JfIVp4Uij/gH48Ur4r2PSH+tGEWSAXhk5LheZZJHCOdYxDwn2vrf2q8ZUWcCLKE=
  - secure: wcszvwX3cesToKltgLikS3rvAcgCKXsYHpMnRvy+gJD/nDcyaU46ZMCaJhQag9ffvc+aBGcFuDel9+rvvoemg42whTdcabc7dFgNhwGJXw/lCfXDk8oUXK+Ebmv0t0eLcGPyccV/xYgLDdzieH3MLDxpIEMqVPwUXNgioIaIcqNbR9JWGadm2NeeMn1LXZANArfoE+aljOZJE9N6i6E8qldExHLZF4Q6ESuEpEypgUA4KZyTzLckynWmhwZbRdWniOH0UKPUbswWt92xcxZvg3uzkcF3b3vI7CuuhpeyrsayHQNC3tbmLgV0fUr/k9t10OJuHgRjOE58+efDFTMfSxIIDPOXKQxjDvsFMtrZ2uWJRS81KhTcoCJ1ymGIdBuYumbVogv57qlMinQuKz7FUSobSKocz0piiDnWaiBsAtuxFdPqIBuyanPBuRzzn9gLxb1nknXailzCp1HkiQ4rXkbzI0MDRNQtqVXSxNGBXC67xj3aLGq2xPVs1tgrfSG4+AfjMKjCgXTKd8ox2fS1QwveKazrBXA/cMEwZhEtD9Tc/LF3xNZVYO+RwCWCKUwRtKsJv7haftcGTPOSGHQibG3JDouVBcf8inDVtRWew13h7aCkzruRh0ywUHKCM8PnmOk7quYV5dkIRGssh0bg1lFsx6xa+nP31g/VHcNNJks=
  - secure: ELAfBeL+hQKam46ZS/zbTkgw0Bi02VbPtwfmGzH3kEHLUb/Ix9eqt/fog/kQ9mXhXvudqVSYGGQiqe4PPsYxzdU7g9scNWmc9lGTR8dl7zZjGQaJTs99ZweQvq5lXlAaABMVAaXKwDFJ2M3bQlHCka1KYWn0ETu4/vTZi/tsx5NKKoRfYqgZDdD/FZdnoXxYC2XeGWmJd4AgZqxTW90xwvH11WaV/jQ7eaICkc+yeOqqP1ZjYP+NeEK0XFFkllK0kSo5Kp4LsuOBkrSXPfwOmaD9p8VckwWaGj0lrOMBiqVQtPqt6yrvbmO1FIPIEshkMW+oGupJuPKiXL6T5w00DClC/hGwHiXLY0MrpiGjGjcs+ffvHh45/V1k6W7ecvrIM6qI1fy4z/xANDORallOzsyO5ZyBee9Ls+S113MAVtWNapRxtr9t7J02qxK+2eSSE7UPoqA71ddl3CRK5Vld1osh5E5mUXzOun3OBdnsmRghWeewOLVDPCeiptAuOBtRQWo9PK14xUzb3HeDyA6ZnoiLPCGRnkHsEg7UPhjIoVeaZPzbnMwvroPpz6aUcKrYo9ehmBRjH2XsT2qBqD61SHyjKCYiekRDCXhqdkg2IXblYuI9Q6UdSrUELQHJKrblf7Wg3TKi10odyOfkZ9q/pQWbC4LxcKPEpdG4NKLO0AU=
  - secure: WyjU81LvM391oA1n9isQIwifdmrrR83u7vvHEK2pnMB69RCAruI7WUKa53t31rcbq0NezAcE4HtPbUfN9xhNfja/J3Pqj2eAl1FddF9CU4hpxLjiTVhrqHaziEgtFAefVL293ZFSeDihur+aAXhMqboZdp4tqrMn1b3RArbkebqsySDJXjaYkwyr1P3NyDJxRNt5wf7fz3i8kLz8yngal3+3OkPow0D1L78EV+9nshhpFxm9pTTtDzsGWidlvZaOhOnxtqAKkv1tt0bcJ7N+MDR50gGKD+lfS1dBb93kV9R8gkVQt96SIZJaWHv8ibAONzaU6fVgBF8uToKwO6wYvenHsrw4qCnIzf1m+WzIxhX5QOVtKCcngEL1ENQf/1gfsR/YgPnObOtiH+LJ0XPuveTtHw8gXhS/KYYqfhqefCgVQPrDAgPJtImRxDg9/AxjCiK2f0/hs7DUQ9urla0X5YNbvpJOZeh0Ce395Evp8/IQ7tULkrYqkVSP6m+pkaOQbHf2oN8NtXl59sfmce8HXPTEMc22gknOSnh+5Q1tQmx3olFaKa9+kTV8w2P7OTt1/12zgidMUXcWZWTLiHIvZX6u/29nUbTAPTSDvh5q30IeQdBdeii0ef5lqfc0jKWdQrcptek7YFsUHszXHaAeeTU+JRFqlhB7O1bvBnb/I0A=
  - secure: VoLhGAam+4qwXjvykDjVGTh9UmEV0h89/9nc1FX0GU9am5O8xDsEOUzAkDYXQpaEYRP350i3YaUqJRD0VS27+uKx5tmQYDygv9rMGcbI5GMdqXAXGflmvN9811aGVc1EnhWetITA73T369nSus32xUrYc+ZjQ3X17IVaLx9nAmPH+9GD4rvBqa2ndkqQPTAnXcnZHKE7dnUpVKaY7oDX5uY76Dp9LN92sU3CcgQIzvCWU7p6SmID7+3qScVEOCqW5h8JHD/UpYr99NpGevgEYYg/O3cE0JxJZVhvQ+pQYubGe/DPkRaU2g4yJhrQBpBVyFrCeeIlyxqpLlEe1TcXaKerXKEy5t5bCrQx0f/46g1DKnOC3nllmI+yjBuTuKSen+RNC9mHdndxSuxsRrq82aOPiV3l2lySHCONy6ha+VbQX2ohCYcFr/eeDlbt4F2ks4S3GRUtAAjFCsSn2VPYMMhVhn7sSO5KodWLffh/DpjLYJj0R9tXSRLSsXYplg6ZN25MZUbz1Z8RsA6xuvghT1LTp7q5tnQi4Qns0X+tkFyo3nkbjpv9tWL5sYdo4PXA/2OpIO9shKopqJoiKuclEF9Rt3dAD4xPw1mITA1TaYexHl96xGXDci2Yov0wLe1PlyYR71Ry3tgVnUWKOCtI4vGv8H/Qt4XbOOz5oAhQfI4=
